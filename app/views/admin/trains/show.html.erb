<p>
  <strong>Number:</strong>
  <%= @train.number %>
</p>

<p>
  <strong>Current Station:</strong>
  <% if @train.current_station.present? %>
    <%= @train.current_station.title %>
  <% else %>
    Not station
  <% end %>
</p>

<p>
  <strong>Route:</strong>
  <% if @train.route.present? %>
    <%= @train.route.title %>
  <% else %>
    No routes
  <% end %>
</p>

<p>
  <%= link_to "Add Carriage", new_train_carriage_path(@train) %>
</p>

<p>
  <strong>Carriages:</strong>
  <% if @train.carriages.empty? %>
    List empty
  <% else %>
  <table>
    <thead>
      <tr>
        <th>Number</th>
        <th>Type</th>
      </tr>
    </thead>

    <tbody>
      <% @train.sort_carriages.each do |carriage| %>
        <tr>
          <td><%= link_to "#{carriage.number}", carriage_path(carriage)%></td>
          <td><%= carriage.type %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
  <% end %>
</p>

<p>
<strong>Total top seats places in CoupeCarriages:</strong>
<%= @train.calculate_places('CoupeCarriage', :top_seats) %>
</p>

<%= link_to 'Edit', edit_train_path(@train) %> |
<%= link_to 'Back', trains_path %>
